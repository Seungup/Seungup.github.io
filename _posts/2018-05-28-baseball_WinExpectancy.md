---
title: 야구) 기대 승률을 알고, 이로부터 WPA를 계산해봅시다. 
category: baseball 
tags: baseball sabermetrics WE WPA

---

## 9회말2아웃 같은 소리하네. 

- 야구는 기회의 스포츠다, 라고들 합니다. 항상 똑같은 기회를 가지고 있으니까, 언제든지 이길 수 있는 기회가 있다라고 하죠. 그래서 늘 그 일말의 희망 때문에 저는 9회 말 상황에 야구가 지고 있어도, 야구를 끄지 못합니다. 그런데, 사실 9회 말에서 경기가 뒤집히는 경우는 잘 없습니다(물론 1점차라면 조금 얘기가 다르지만)
- 경기의 상황(득실점차, 아웃카운트, 주자 상황, 이닝, 홈/어웨이)에 따라서 매 경기의 승률은 어느 정도 결정되어 있습니다. 예를 들어 보면 다음처럼 이닝별로 득실점 차가 기대 승률에 미치는 영향은 다르죠. 
    - 1회 초 9:0 => away 팀이 이길 가능성이 높지만, 확신할 수는 없음. 
    - 9회 초 8:0 => away 팀이 이길 가능성이 거의 확실함. 
- 이런 식으로 매 상황에 따른 기대 승률은 이전 데이터를 활용해 계산할 수 있습니다. 간단하게는 (9회 말, 1점 차, 무사, 주자없음) 상황이 벌어진 모든 경기에서, 이 경기를 이긴 승률을 각각 계산해주면, 간단하게 알 수 있습니다. 

## WE: Win Expectancy(기대 승률)

- 처음에는 시뮬레이션을 통해, 기대승률을 구하거나, 방정식을 통해 계산한다고 생각했는데, 앞서 말한 바와 같이 **아웃카운트, 주자 상황, 득실점 차이, 홈/어웨이 구분, 이닝 초/말 등으로 구분된 이미 계산된 표로부터** 기대 승률이 결정됩니다. 
    - 자세한 테이블은 [여기](http://www.tangotiger.net/welist.html)를 참고하시면 좋습니다. 

## WPA - 안타의 영양가!

- WE를 설명한 것은, Win Probability Added 를 설명하기 위함이었습니다. 흔히 '스탯관리밖에 못하는 선수'나 '클러치히터'라는 말을 쓰는데, 이는 중요할 때 못 치는 선수 와 중요할 때 치는 선수를 구분해 줍니다. 팬들은 '스탯상'으로는 뛰어나지만, 중요한 상황(득점권 등)에 한 건 해주지 못하는 선수보다는, '스탯상'으로는 조금 부족해도 중요한 상황에서 해결해주는 선수들을 훨씬 좋아합니다. '승리'를 가져오니까요. 
    - 여기서 말하는 '스탯상'은 전통적인 지표들인 타율/출루율/장타율 등을 포함합니다. 여기의 지표들은 '결승타'같은 것들은 전혀 반영되어 있지 못합니다. 
- 따라서, 타자의 경우 타석에서의 이벤트가 Winning Probability를 얼마나 상승/감소 시켰느냐를 계산하여 시즌 내 기록을 모두 더하면, 타자가 승리에 얼마나 실질적으로 기여했는가를 평가할 수 있습니다. 이게 WPA의 기본 개념이구요. 

### 어떻게 계산하나요? 

- 가상의 상황을 아무렇게나 만들어 보겠습니다. 
- 삼성 vs 한화, 9회 말, 9:6, 2사 만루, 투수: 오승환, 타자: 김태균, 현재 한화의 WE는 25%, 
    - 김태균이 홈런을 쳤을 경우에 김태균의 WPA는 75%를 더하고, 오승환의 경우는 75%의 승리확률에서 0%로 낮춰졌으니까, 75%를 빼게 된다. 
- 따라서 전체 선수의 WPA의 합은 0이 되며, WPA 0은 평균적인 선수를 의미한다. 


## reference 

- <http://birdsnest.tistory.com/111>
- <https://www.fangraphs.com/library/misc/we/>
- <https://www.fangraphs.com/library/misc/wpa/>